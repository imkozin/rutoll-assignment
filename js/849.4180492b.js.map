{"version":3,"file":"js/849.4180492b.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,QAAQC,SAASN,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACJ,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,QAAQE,gBAAgBP,EAAG,KAAK,CAACF,EAAIK,GAAG,KAAKL,EAAIM,GAAGN,EAAIO,QAAQG,UAAUR,EAAG,KAAK,CAACF,EAAIK,GAAG,mBAAmBL,EAAIM,GAAGN,EAAIO,QAAQI,YAAaX,EAAIY,gBAAiBV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACW,IAAI,eAAeT,YAAY,sBAAsBU,GAAG,CAAC,MAAQd,EAAIe,gBAAgB,CAACf,EAAIK,GAAG,YAAYH,EAAG,cAAc,CAACE,YAAY,kBAAkBY,MAAM,CAAC,GAAK,CAAER,KAAM,OAAQS,OAAQ,CAAEC,GAAIlB,EAAIO,QAAQW,OAAS,CAAClB,EAAIK,GAAG,aAAa,GAAGL,EAAImB,MACzoB,EACIC,EAAkB,G,kDCsBtB,GACAC,IAAAA,GACA,OACAd,QAAA,GAEA,EACAe,OAAA,CAAAC,EAAAA,EAAAC,EAAAA,GACAC,OAAAA,GACAC,SAAAC,MAAA,kBACA,KAAAC,YACA,EACAC,QAAA,CACA,gBAAAD,GACA,IACA,MAAAE,QAAAC,EAAAA,EAAAC,IACA,+DAAAC,OAAAhB,OAAAC,KAAA,CACAgB,QAAA,CACA,qCAIA,KAAA3B,QAAAuB,EAAAT,KAAAd,OACA,OAAA4B,GAEA,OADAC,QAAAD,MAAA,0BAAAA,GACA,KAAAE,QAAAC,KAAA,OACA,CACA,EACA,mBAAAvB,GACA,IACA,KAAAwB,MAAAC,aAAAC,UAAA,EAEA,MAAAC,EAAAC,KAAAC,MAAAC,eAAAC,QAAA,aACAC,EAAAL,EAAAK,MAEA,UACAhB,EAAAA,EAAAiB,OACA,kEAAAf,OAAAhB,OAAAC,KACA,CACAgB,QAAA,CACA,kCACA,wBAAAa,OAIAE,EAAAA,EAAAC,IAAA,yBACA,KAAAb,QAAAC,KAAA,IACA,OAAAa,GACAf,QAAAgB,IAAA,MAAAD,GACA,KAAAE,aAAA,SAAAF,EAAArB,SAAAT,KAAAc,MACA,CACA,OAAAgB,GACA,KAAAE,aAAA,SAAAF,EAAAG,SACAlB,QAAAD,MAAA,0BAAAgB,EAAAG,QACA,SACA,KAAAf,MAAAC,aAAAC,UAAA,CACA,CACA,IChF6P,I,UCOzPc,GAAY,OACd,EACAxD,EACAqB,GACA,EACA,KACA,WACA,MAIF,EAAemC,EAAiB,O","sources":["webpack://frontend/./src/views/ProductDetails.vue","webpack://frontend/src/views/ProductDetails.vue","webpack://frontend/./src/views/ProductDetails.vue?4430","webpack://frontend/./src/views/ProductDetails.vue?cc9d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mt-5\"},[_c('h2',[_vm._v(_vm._s(_vm.product.name))]),_c('p',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.product.description))]),_c('h5',[_vm._v(\"$ \"+_vm._s(_vm.product.price))]),_c('h6',[_vm._v(\"Published data: \"+_vm._s(_vm.product.created))]),(_vm.isAuthenticated)?_c('div',{staticClass:\"mt-3\"},[_c('button',{ref:\"deleteButton\",staticClass:\"btn btn-danger mx-3\",on:{\"click\":_vm.deleteProduct}},[_vm._v(\"Delete\")]),_c('router-link',{staticClass:\"btn btn-success\",attrs:{\"to\":{ name: 'edit', params: { id: _vm.product.id } }}},[_vm._v(\"Update\")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mt-5\">\n    <h2>{{ product.name }}</h2>\n    <p class=\"mt-3\">{{ product.description }}</p>\n    <h5>$ {{ product.price }}</h5>\n    <h6>Published data: {{ product.created }}</h6>\n\n    <div class=\"mt-3\" v-if=\"isAuthenticated\">\n      <button ref=\"deleteButton\" class=\"btn btn-danger mx-3\" @click=\"deleteProduct\">Delete</button>\n      <router-link\n        class=\"btn btn-success\"\n        :to=\"{ name: 'edit', params: { id: product.id } }\"\n        >Update</router-link\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Cookies from 'js-cookie'\nimport { toastMixin } from '@/mixins/toastMixin'\nimport { authMixin } from '@/mixins/authMixin'\n\nexport default {\n  data() {\n    return {\n      product: {},\n    }\n  },\n  mixins: [toastMixin, authMixin],\n  mounted() {\n    document.title = 'Product Details'\n    this.getProduct()\n  },\n  methods: {\n    async getProduct() {\n      try {\n        const response = await axios.get(\n          `${process.env.VUE_APP_API_URL}/api/get-product/${this.$route.params.id}`, {\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }\n        )\n        this.product = response.data.product\n      } catch (error) {\n        console.error('Error fetching product:', error)\n        return this.$router.push('/404')\n      }\n    },\n    async deleteProduct() {\n      try {\n        this.$refs.deleteButton.disabled = true\n\n        const authData = JSON.parse(sessionStorage.getItem('authData'))\n        const token = authData.token\n        \n        try {\n          const response = await axios.delete(\n            `${process.env.VUE_APP_API_URL}/api/delete-product/${this.$route.params.id}`,\n            {\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n              },\n            }\n          )\n          Cookies.set('productDeleted', 'true');\n          this.$router.push('/')\n        } catch (err) {\n          console.log('err', err);\n          this.errorMessage('danger', err.response.data.error)\n        }\n      } catch (err) {\n        this.errorMessage('danger', err.message)\n        console.error('Error deleting product:', err.message)\n      } finally {\n        this.$refs.deleteButton.disabled = false\n      }\n    },\n  },\n}\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductDetails.vue?vue&type=template&id=4bae679a&scoped=true\"\nimport script from \"./ProductDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetails.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bae679a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","product","name","description","price","created","isAuthenticated","ref","on","deleteProduct","attrs","params","id","_e","staticRenderFns","data","mixins","toastMixin","authMixin","mounted","document","title","getProduct","methods","response","axios","get","$route","headers","error","console","$router","push","$refs","deleteButton","disabled","authData","JSON","parse","sessionStorage","getItem","token","delete","Cookies","set","err","log","errorMessage","message","component"],"sourceRoot":""}