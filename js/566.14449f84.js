"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[566],{2566:function(t,e,r){r.r(e),r.d(e,{default:function(){return l}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-5"},[e("h2",[t._v(t._s(t.product.name))]),e("p",{staticClass:"mt-3"},[t._v(t._s(t.product.description))]),e("h5",[t._v("$ "+t._s(t.product.price))]),e("h6",[t._v("Published data: "+t._s(t.product.created))]),t.isAuthenticated?e("div",{staticClass:"mt-3"},[e("button",{staticClass:"btn btn-danger mx-3",on:{click:t.deleteProduct}},[t._v("Delete")]),e("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"edit",params:{id:t.product.id}}}},[t._v("Update")])],1):t._e()])},a=[],o=(r(4114),r(2257)),n=r(8448),c=r(8298),i={data(){return{product:{}}},mixins:[n.T,c.Q],mounted(){document.title="Product Details",this.getProduct()},methods:{async getProduct(){try{const t=JSON.parse(sessionStorage.getItem("authData")),e=t.token,r=await o.A.get(`https://rutoll-assignment.onrender.com/api/get-product/${this.$route.params.id}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});this.product=r.data.product}catch(t){return console.error("Error fetching product:",t),this.$router.push("/404")}},async deleteProduct(){try{const e=JSON.parse(sessionStorage.getItem("authData")),r=e.token;try{await o.A.delete(`https://rutoll-assignment.onrender.com/api/delete-product/${this.$route.params.id}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});this.$router.push("/")}catch(t){console.log("err",t),this.errorMessage("danger",t.response.data.error)}}catch(t){this.errorMessage("danger",t.message),console.error("Error deleting product:",t.message)}}}},d=i,u=r(1656),p=(0,u.A)(d,s,a,!1,null,"396bce6b",null),l=p.exports}}]);
//# sourceMappingURL=566.14449f84.js.map