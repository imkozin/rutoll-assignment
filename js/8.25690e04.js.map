{"version":3,"file":"js/8.25690e04.js","mappings":"0JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,QAAQC,SAASN,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACJ,EAAIK,GAAGL,EAAIM,GAAGN,EAAIO,QAAQE,gBAAgBP,EAAG,KAAK,CAACF,EAAIK,GAAG,KAAKL,EAAIM,GAAGN,EAAIO,QAAQG,UAAUR,EAAG,KAAK,CAACF,EAAIK,GAAG,mBAAmBL,EAAIM,GAAGN,EAAIO,QAAQI,YAAaX,EAAIY,gBAAiBV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACE,YAAY,sBAAsBS,GAAG,CAAC,MAAQb,EAAIc,gBAAgB,CAACd,EAAIK,GAAG,YAAYH,EAAG,cAAc,CAACE,YAAY,kBAAkBW,MAAM,CAAC,GAAK,CAAEP,KAAM,OAAQQ,OAAQ,CAAEC,GAAIjB,EAAIO,QAAQU,OAAS,CAACjB,EAAIK,GAAG,aAAa,GAAGL,EAAIkB,MACtnB,EACIC,EAAkB,G,wCCqBtB,GACAC,IAAAA,GACA,OACAb,QAAA,GAEA,EACAc,OAAA,CAAAC,EAAAA,EAAAC,EAAAA,GACAC,OAAAA,GACAC,SAAAC,MAAA,kBACA,KAAAC,YACA,EACAC,QAAA,CACA,gBAAAD,GACA,IACA,MAAAE,EAAAC,KAAAC,MAAAC,eAAAC,QAAA,aAGAC,GAFAL,EAAAM,YAEAC,EAAAA,EAAAC,IACA,+DAAAC,OAAAtB,OAAAC,KAAA,CACAsB,QAAA,CACA,sCAIA,KAAAhC,QAAA2B,EAAAd,KAAAb,OACA,OAAAiC,GAEA,OADAC,QAAAD,MAAA,0BAAAA,GACA,KAAAE,QAAAC,KAAA,OACA,CACA,EACA,mBAAA7B,GACA,IACA,MAAAe,EAAAC,KAAAC,MAAAC,eAAAC,QAAA,aACAE,EAAAN,EAAAM,MAEA,UACAC,EAAAA,EAAAQ,OACA,kEAAAN,OAAAtB,OAAAC,KACA,CACAsB,QAAA,CACA,kCACA,wBAAAJ,OAIA,KAAAO,QAAAC,KAAA,IACA,OAAAE,GACAJ,QAAAK,IAAA,MAAAD,GACA,KAAAE,aAAA,SAAAF,EAAAX,SAAAd,KAAAoB,MACA,CACA,OAAAK,GACA,KAAAE,aAAA,SAAAF,EAAAG,SACAP,QAAAD,MAAA,0BAAAK,EAAAG,QACA,CACA,IC7E6P,I,UCOzPC,GAAY,OACd,EACAlD,EACAoB,GACA,EACA,KACA,WACA,MAIF,EAAe8B,EAAiB,O","sources":["webpack://frontend/./src/views/ProductDetails.vue","webpack://frontend/src/views/ProductDetails.vue","webpack://frontend/./src/views/ProductDetails.vue?4430","webpack://frontend/./src/views/ProductDetails.vue?cc9d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container mt-5\"},[_c('h2',[_vm._v(_vm._s(_vm.product.name))]),_c('p',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.product.description))]),_c('h5',[_vm._v(\"$ \"+_vm._s(_vm.product.price))]),_c('h6',[_vm._v(\"Published data: \"+_vm._s(_vm.product.created))]),(_vm.isAuthenticated)?_c('div',{staticClass:\"mt-3\"},[_c('button',{staticClass:\"btn btn-danger mx-3\",on:{\"click\":_vm.deleteProduct}},[_vm._v(\"Delete\")]),_c('router-link',{staticClass:\"btn btn-success\",attrs:{\"to\":{ name: 'edit', params: { id: _vm.product.id } }}},[_vm._v(\"Update\")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container mt-5\">\n    <h2>{{ product.name }}</h2>\n    <p class=\"mt-3\">{{ product.description }}</p>\n    <h5>$ {{ product.price }}</h5>\n    <h6>Published data: {{ product.created }}</h6>\n\n    <div class=\"mt-3\" v-if=\"isAuthenticated\">\n      <button class=\"btn btn-danger mx-3\" @click=\"deleteProduct\">Delete</button>\n      <router-link\n        class=\"btn btn-success\"\n        :to=\"{ name: 'edit', params: { id: product.id } }\"\n        >Update</router-link\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toastMixin } from '@/mixins/toastMixin'\nimport { authMixin } from '@/mixins/authMixin'\n\nexport default {\n  data() {\n    return {\n      product: {},\n    }\n  },\n  mixins: [toastMixin, authMixin],\n  mounted() {\n    document.title = 'Product Details'\n    this.getProduct()\n  },\n  methods: {\n    async getProduct() {\n      try {\n        const authData = JSON.parse(sessionStorage.getItem('authData'))\n        const token = authData.token\n\n        const response = await axios.get(\n          `${process.env.VUE_APP_API_URL}/api/get-product/${this.$route.params.id}`, {\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }\n        )\n        this.product = response.data.product\n      } catch (error) {\n        console.error('Error fetching product:', error)\n        return this.$router.push('/404')\n      }\n    },\n    async deleteProduct() {\n      try {\n        const authData = JSON.parse(sessionStorage.getItem('authData'))\n        const token = authData.token\n        \n        try {\n          const response = await axios.delete(\n            `${process.env.VUE_APP_API_URL}/api/delete-product/${this.$route.params.id}`,\n            {\n              headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n              },\n            }\n          )\n          this.$router.push('/')\n        } catch (err) {\n          console.log('err', err);\n          this.errorMessage('danger', err.response.data.error)\n        }\n      } catch (err) {\n        this.errorMessage('danger', err.message)\n        console.error('Error deleting product:', err.message)\n      }\n    },\n  },\n}\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProductDetails.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ProductDetails.vue?vue&type=template&id=597ba694&scoped=true\"\nimport script from \"./ProductDetails.vue?vue&type=script&lang=js\"\nexport * from \"./ProductDetails.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"597ba694\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","product","name","description","price","created","isAuthenticated","on","deleteProduct","attrs","params","id","_e","staticRenderFns","data","mixins","toastMixin","authMixin","mounted","document","title","getProduct","methods","authData","JSON","parse","sessionStorage","getItem","response","token","axios","get","$route","headers","error","console","$router","push","delete","err","log","errorMessage","message","component"],"sourceRoot":""}